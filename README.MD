ConsoleSequence
===============

Предоставляет модуль для отображения диаграммы последовательностей из текста в виде рисунка для вывода в консоль или файл.

## Использование

**`const ConsoleSequence = require('./ConsoleSequence')`** - подключение.

**`const aConsoleSequence = new ConsoleSequence([linesBetween])`** - создает объект таблицы, где `linesBetween` - количество строк между смысловыми блоками.

**`aConsoleSequence.make(str)`** - разбирает текст диаграммы последовательностей и рисует его и возвращает массив из строк с символами рисунка.

## Строение диаграммы последовательности

Все переносы внутри текста реализуются с помощью символов `\\n`.

### Комментарий

Комментарий внутри текста, ни на что не влияет.

`#<текст_комментария>`

> `# Example of a comment.`

### Заголовок

Заголовок диаграммы.

`Title: <текст_заголовка>`

> `Title: Here is a big big big \\ntitle in far far galaxy`

Отображается как:

```
┌─────────────────────────┐
│ Here is a big big big   │
│ title in far far galaxy │
└─────────────────────────┘
```

### Актор

Актор - сущность, которая предоставляет действующего.

`participant <актор>[ as <алиас>]` - где `<алиас>` - псевдоним актора.

> `participant A`  
> `participant Adaf\\n af as C`

Отображается как (вначале и в конце диаграммы):

```
┌───┐                  ┌──────┐
│ A │                  │ Adaf │
│   │                  │  af  │
└─┬─┘                  └───┬──┘
```

### Заметка

Заметка - текст отображаемый слева, справа или поверх действия акторов.

`Note {left|right} of <актор>: <текст_заметки>` - отображает текст заметки по бокам от актора, где `left` - текст слева от действия, `right` - справа.  
`Note over <актор>[,<акторК>]: <текст_заметки>` - отображает текст заметки поверх актора, где `<акторК>` - и до этого актора, от начального.

> `Note left of A: Note to the\\nleft of A`  
> `Note over A,C: Note over both A and B`

Отображается как (вначале и в конце диаграммы):

```
┌─────────────┐│
│ Note to the ││
│ left of A   ││
└─────────────┘│
```
```
 │                        │ 
┌──────────────────────────┐
│ Note over both A and B   │
└──────────────────────────┘
 │                        │ 
```

### Действие

Действие - это действие одного актора направленное на другого актора.

`<актор><тип_линии><тип_стрелки><акторК>: <текст_действия>` - отображает действие одного актора направленное на другого актора. Где `<тип_линии>`:
- `-` - прямая линия;
- `--` - точечная линия.
`<тип_стрелки>`:
- `>` - с одинарной стрелкой (пустой);
- `>>` - с двойной стрелкой (заполненной).

> `A->C: Normal line\\nline`  
> `D-->>A: Dashed open arrow`

Отображается как:

```
│ Normal line            │
│ line                   │
├·······················>│
```
```
│ Dashed open arrow      │             │       │
│<<············································┤
```

## Пример

```js
const ConsoleSequence = require('./ConsoleSequence');

const str = 
`# Example of a comment.
Title: File Status Lifecycle
participant untracked as UNT
participant unmodified as UNM
participant modified as M
participant staged as S

UNT-->UNM: add the file
UNM-->M: edit the file
M-->S: stage the file
UNM-->UNT: remove the file
S-->UNM: commit`;

console.log(new ConsoleSequence(0).make(str).join('\n'));
```

Результат:
```
┌───────────────────────┐
│ File Status Lifecycle │
└───────────────────────┘
 ┌───────────┐    ┌────────────┐   ┌──────────┐      ┌────────┐
 │ untracked │    │ unmodified │   │ modified │      │ staged │
 └─────┬─────┘    └──────┬─────┘   └─────┬────┘      └────┬───┘
       │ add the file    │               │                │
       ├────────────────>│               │                │
       │                 │ edit the file │                │
       │                 ├──────────────>│                │
       │                 │               │ stage the file │
       │                 │               ├───────────────>│
       │ remove the file │               │                │
       │<────────────────┤               │                │
       │                 │ commit        │                │
       │                 │<───────────────────────────────┤
 ┌─────┴─────┐    ┌──────┴─────┐   ┌─────┴────┐      ┌────┴───┐
 │ untracked │    │ unmodified │   │ modified │      │ staged │
 └───────────┘    └────────────┘   └──────────┘      └────────┘
```